{"version":3,"file":"dsvuAY_g.js","sources":["../../../../node_modules/@nuxt/content/dist/runtime/composables/preview.js"],"sourcesContent":["import { useCookie, useRoute } from \"#imports\";\nlet showWarning = true;\nexport const useContentPreview = () => {\n  const getPreviewToken = () => {\n    return useCookie(\"previewToken\").value || import.meta.client && sessionStorage.getItem(\"previewToken\") || void 0;\n  };\n  const setPreviewToken = (token) => {\n    useCookie(\"previewToken\").value = token;\n    useRoute().query.preview = token || \"\";\n    if (import.meta.client) {\n      if (token) {\n        sessionStorage.setItem(\"previewToken\", token);\n      } else {\n        sessionStorage.removeItem(\"previewToken\");\n      }\n      window.location.reload();\n    }\n  };\n  const isEnabled = () => {\n    const query = useRoute().query;\n    if (Object.prototype.hasOwnProperty.call(query, \"preview\") && !query.preview) {\n      return false;\n    }\n    if (query.preview || useCookie(\"previewToken\").value) {\n      if (import.meta.dev && showWarning) {\n        console.warn(\"[content] Client DB enabled since a preview token is set (either in query or cookie).\");\n        showWarning = false;\n      }\n      return true;\n    }\n    if (import.meta.client && sessionStorage.getItem(\"previewToken\")) {\n      return true;\n    }\n    return false;\n  };\n  return {\n    isEnabled,\n    getPreviewToken,\n    setPreviewToken\n  };\n};\n"],"names":["useContentPreview","query","useRoute","useCookie","token"],"mappings":"2CAEY,MAACA,EAAoB,KAiCxB,CACL,UAlBgB,IAAM,CACtB,MAAMC,EAAQC,EAAU,EAAC,MACzB,OAAI,OAAO,UAAU,eAAe,KAAKD,EAAO,SAAS,GAAK,CAACA,EAAM,QAC5D,GAEL,GAAAA,EAAM,SAAWE,EAAU,cAAc,EAAE,OAOrB,eAAe,QAAQ,cAAc,EAInE,EAGI,gBAlCsB,IACfA,EAAU,cAAc,EAAE,OAA+B,eAAe,QAAQ,cAAc,GAAK,OAkC1G,gBAhCuBC,GAAU,CACjCD,EAAU,cAAc,EAAE,MAAQC,EAClCF,EAAU,EAAC,MAAM,QAAUE,GAAS,GAE9BA,EACF,eAAe,QAAQ,eAAgBA,CAAK,EAE5C,eAAe,WAAW,cAAc,EAE1C,OAAO,SAAS,QAEtB,CAsBA","x_google_ignoreList":[0]}