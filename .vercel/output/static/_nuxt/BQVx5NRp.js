import{_ as L,R as U,S as A,e as I,r as u,G as D,o as p,h as F,w as s,b as a,V as R,i as x,m as T,C as N,a as t,p as j,J as $,K as q,L as V,A as W,d as b,c as y,t as G,I as J,B as w,T as K,U as M,W as X,X as Y,Y as z}from"./j--dK8i6.js";import{p as _}from"./BbcqoxRw.js";const H=""+new URL("Saly-8.CDa3sLp8.png",import.meta.url).href,O={key:0,class:"error-message mt-4 text-center text-red-500"},Q={__name:"LogIn",setup(h){const d=U(),f=A().$firebaseAuth,g=I(),l=u(""),n=u(""),r=u(""),c=u(""),m=u(""),v=D(()=>l.value&&n.value&&!c.value&&!m.value),P=()=>{const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;c.value=o.test(l.value)?"":"Please enter a valid email address"},S=()=>{m.value=n.value.length>=6?"":"Password must be at least 6 characters long"},E=async()=>{if(v.value)try{const e=(await K(f,l.value,n.value)).user;if(!e.emailVerified){r.value="Please verify your email before logging in.",d.push("/verify-email");return}const i=await M(X(Y,"users",e.uid));i.exists()?g.setUser({...i.data(),uid:e.uid,email:e.email,emailVerified:e.emailVerified}):g.setUser({uid:e.uid,email:e.email,emailVerified:e.emailVerified}),d.push("/")}catch(o){r.value=_(o)}},k=async()=>{if(!l.value){r.value="Please enter your email address.";return}try{await z(f,l.value),r.value="Password reset email sent. Please check your inbox."}catch(o){r.value=_(o)}},B=()=>{d.push("/sign-up")};return(o,e)=>(p(),F(w,{fluid:"",class:"max-width-1600 py-24 px-4 px-lg-12 d-flex align-center min-height-100"},{default:s(()=>[a(R,{class:"justify-center align-center"},{default:s(()=>[a(x,{cols:"12",md:"6",class:"d-flex justify-center"},{default:s(()=>[a(T,{class:"pa-6 rounded-xl login-card w-100"},{default:s(()=>[a(N,null,{default:s(()=>e[2]||(e[2]=[t("h1",{class:"text-3xl md:text-4xl font-bold mb-6"}," Log in to Studybyte ",-1)])),_:1}),a(j,null,{default:s(()=>[a($,{onSubmit:q(E,["prevent"])},{default:s(()=>[a(V,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=i=>l.value=i),label:"Email",type:"email",outlined:"",dense:"",required:"","error-messages":c.value,class:"mb-4",onBlur:P},null,8,["modelValue","error-messages"]),a(V,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),label:"Password",type:"password",outlined:"",dense:"",required:"","error-messages":m.value,class:"mb-4",onBlur:S},null,8,["modelValue","error-messages"]),a(W,{type:"submit",color:"#7C3AED",block:"","x-large":"",disabled:!v.value,class:"mt-4 mb-2 px-6 py-3 text-lg font-semibold rounded-xl"},{default:s(()=>e[3]||(e[3]=[b(" Log in ")])),_:1},8,["disabled"])]),_:1}),t("div",{class:"text-right mt-2"},[t("a",{class:"text-primary cursor-pointer",onClick:k},e[4]||(e[4]=[t("p",null," Forgot password? ",-1)]))]),t("p",{class:"text-center mt-6"},[e[5]||(e[5]=b(" Don't have an account? ")),t("a",{class:"text-primary font-bold cursor-pointer",onClick:B}," Sign up ")]),r.value?(p(),y("p",O,G(r.value),1)):J("",!0)]),_:1})]),_:1})]),_:1}),a(x,{cols:"12",md:"6",class:"d-flex justify-center align-center"},{default:s(()=>e[6]||(e[6]=[t("img",{src:H,alt:"Login Illustration",class:"max-w-full h-auto object-contain illustration"},null,-1)])),_:1})]),_:1})]),_:1}))}},Z=L(Q,[["__scopeId","data-v-937dab1b"]]),ee={class:"full-width"},ae={class:"landing"},le={__name:"login",setup(h){return(d,C)=>(p(),y("div",ee,[t("section",ae,[a(w,{class:"pa-0",fluid:"","data-aos":"fade-up","data-aos-duration":"300"},{default:s(()=>[a(Z)]),_:1})])]))}};export{le as default};
//# sourceMappingURL=BQVx5NRp.js.map
